Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2020-09-09T15:37:35+02:00

====== L1. L'illumination globale ======

===== Définition =====
L’illumination globale consiste à créer une image en niveau de gris indiquant la quantité de lumière perçue par chaque partie du modèle. Deux méthodes de calcul existent : 
* l’occlusion ambiante est efficace pour toutes les surfaces convexes mais est inopérante pour les espaces concaves ;
* l’obscurcissement volumétrique a été conçue pour les espaces concaves.

===== Mise en oeuvre =====

**Avec le moteur de rendu Cycles (résultat précis, calcul long)**

1. **Onglet 1 :** Masquer la sphère témoin.
2. **Onglet 2 :** Appliquer le matériau `L1_OA`.
3. **Onglet 3 :** Connecter `Ouput 1` avec `L1_AO`. Casser toute autre liaison que celle-ci.
	a. En fonction du mode de calcul choisi, choisir la bonne puce du noeud terminal.
4. **Onglet 3 :** Sélectionner le moteur de rendu Cycles.
5. **Onglet 3 :** Render all cameras.

Les images sont alors enregistrées dans le dossier à la racine du projet nommé `TEMP`.

{{../L1_OA.gif?href=..%2FL1_OA-HD.gif}}

	**Note :** //Avec le développement des scripts envisagés, toutes ces étapes intermédiaires seront automatisées.//

**Avec le moteur de rendu EEVEE (résultat un peu moins précis, beaucoup plus rapide)**

//A décrire//

==== Alternatives ====
* Le moteur de rendu Cycles est particulièrement long à calculer l'occlusion ambiante. Cette couche d'information peut être calculée dans Meshlab
* Pour les espaces concaves, le résultat de l'occlusion ambiante est très sombre et n'apporte rien. Meshlab permet de calculer l'obscurance volumétrique (//Volumetric obscurance//), bien plus pertinente dans ce contexte.
* A partir de la version 2.92 de Blender, l'occlusion ambiante peut être rendue avec le moteur de rendu EEVEE (à mettre en oeuvre alors).

===== Liste des images produites et leurs caractéristiques =====
**Structure du nom des fichiers générés :**
	[Nom de la caméra]_[Catégorie d'information]_[Identifiant de l'information générée].jpg

**Liste des fichiers :**
* Cam-##_L1_AO.jpg : //Ambient Occlusion//
* Cam-##_L1_AOc.jpg : //Ambient Occlusion //Contrastée
* Cam-##_L1_VO.jpg : //Volumetric Obscurance//
* Cam-##_L1_VOc.jpg : //Volumetric Obscurance //Contrastée

===== Description du matériau (onglet 2) =====
{{../L1.png?width=760}}

===== Description du compositeur (onglet 3) =====
Les noeuds sont facilement explorables à travers l'interface Blender.

===== Espace de réflexion =====
**Documentation du noeud :**
	https://docs.blender.org/manual/en/latest/render/shader_nodes/input/ao.html
	Pour l'intérieur des structures internes, il faudrait essayer de jouer sur la valeur `Distance`.

	https://youtu.be/lB7l_IUcQn4
	Un exemple d'utilisation de l'occlusion ambiante avec le moteur EEVEE
